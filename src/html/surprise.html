<!DOCTYPE html>
<!--[if lt IE 7]> <html class="ie lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>    <html class="ie lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>    <html class="ie lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->

<head>
  <title>Happy Birthday Sindhu</title>
  <meta charset="UTF-8" />
  <meta name="description" content="Happy Birthday Sindhu">
  <link rel="icon" href="../../images/others/favicon.ico" type="image/x-icon" />
  <meta property="og:description" content="Wish you a very Happy Birthday">
  
  <!-- External Stylesheets -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
  
  <!-- Google Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Signika' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Josefin+Sans:100,300' rel='stylesheet' type='text/css'>
  
  <!-- Less.js -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.1.0/less.min.js"></script>
  
  <!-- Inline CSS -->
  <style>
    /* Ensure html and body cover the full viewport with the background image */
    html, body {
      width: 100%;
      height: 200vh; /* Height to allow scrolling */
      margin: 0;
      background: url('../../images/humans/together/collage.jpg') no-repeat center center;
      background-size: cover; /* Ensures background covers the entire area */
      font-family: 'Josefin Sans', sans-serif;
    }

    /* Make the cover background semi-transparent */
    .cover {
      background: rgba(0, 0, 0, 0.6); /* Reduced opacity for better visibility */
      position: fixed; /* Covers the entire viewport initially */
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    /* Style for the canvas element */
    #can {
      position: fixed; /* Fixed position to cover the viewport */
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 500; /* Positioned below the cover */
    }

    /* Container to center content */
    .super-centered-container {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%; /* Full height for vertical centering */
      text-align: center; /* Center text */
    }

    /* Styling for the inline blocks */
    .inline-blocks > .block {
      display: inline-block;
      vertical-align: middle;
      margin: 0 10px; /* Spacing between blocks */
      opacity: 0;
      animation: fadeIn 4s ease-in-out forwards; /* Fade-in animation */
    }

    /* Delay for each element to fade in */
    .fade-2 {
      animation-delay: 1s;
    }

    .fade-4 {
      animation-delay: 2s;
    }

    .fade-img {
      animation-delay: 3s;
    }

    /* Styling for the "2" and "4" text */
    .twenty-one {
      font-size: 240px;
      font-weight: 100;
      line-height: 180px;
      color: #fff;
    }

    /* Styling for the birthday message */
    .bday {
      font-size: 24px;
      color: #fff;
      font-weight: 300;
      margin-top: 20px;
      opacity: 0;
      animation: fadeIn 4s ease-in-out forwards 5s;
    }

    /* Styling for images */
    .image {
      height: 140px;
      width: 140px;
      border-radius: 0; /* Set to 0 for transparent corners */
      border: 3px solid;
      margin-top: 22px;
      margin-right: 40px;
      object-fit: cover; /* Ensures images cover the container without distortion */
      transition: transform 0.3s; /* Smooth hover effect */
    }

    /* Hover effect for images */
    .image:hover {
      transform: scale(1.05);
    }

    /* Audio controls styling (optional) */
    .song {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 1100; /* Above the cover */
    }

    /* Anchor tag styling */
    a {
      color: skyblue;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    /* Keyframe animation for fading in */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
  </style>
</head>

<body>
  <!-- Audio Controls -->
  <audio id="hbd" class="song" autoplay loop>
    <source src="../../audio/hbd1.mp3" type="audio/mpeg">
    Your browser isn't invited for super fun audio time.
  </audio>

  <!-- Canvas for Firefly Animation -->
  <canvas id="can">Get a browser</canvas>

  <!-- Cover Content -->
  <div class="cover super-centered-container">
    <div class="overlay-static">
      <div class="inline-blocks">
        <h2 class="twenty-one block fade-2">2</h2>
        <h2 class="twenty-one block fade-4">4</h2>
        <img class="image block fade-img" src="../../images/humans/together/ammu.jpeg" alt="Ammu">
        <img class="image block fade-img" src="../../images/humans/together/bujjamma.jpeg" alt="Bujjamma">
      </div>
      <h1 class="bday"> CLICK HERE TO PLAY THE MUSIC</h1>
      <h1 class="bday">Happy Birthday <a target="_self" rel="noopener noreferrer" href="../../index.html">Sindhu</a></h1>

      
    </div>
  </div>

  <!-- JavaScript for Firefly Animation -->
  <script>
    const TwoPI = Math.PI * 2;
    let w = window.innerWidth;
    let h = window.innerHeight;
    let center_x = w / 2;
    let center_y = h / 2;

    const colors = ['#FF0000', '#E8D45B', '#8CFF00', '#3F33FF', '#FF3349', '#33FFC7'];

    const max_distance = Math.max(center_x, center_y);
    const min_distance = Math.min(center_x, center_y);

    // Firefly Class
    class Firefly {
      constructor() {
        const random_angle = Math.random() * TwoPI;
        const distance = Math.random() * (max_distance - min_distance) + min_distance;

        // Heart shape
        this.x = center_x + Math.sin(random_angle) * distance * (1 - Math.abs(Math.sin(2 * random_angle)));
        this.y = center_y + Math.cos(random_angle) * distance * (1 - Math.abs(Math.sin(2 * random_angle)));
        this.angle_of_attack = Math.atan2(this.y - center_y, this.x - center_x);
        this.vel = Math.random() * 50 + 20;
        this.color = colors[Math.floor(Math.random() * colors.length)];
        this.xvel = this.vel * Math.cos(this.angle_of_attack);
        this.yvel = this.vel * Math.sin(this.angle_of_attack);
        this.size = 2 + Math.random() * 2;
        this.phase_diff = Math.random() * TwoPI;
      }

      move(dt) {
        this.x += this.xvel * dt;
        this.y += this.yvel * dt;
      }

      render(ctx, now) {
        if (this.size < 1) return;
        ctx.globalAlpha = Math.max(Math.abs(Math.sin((now + this.phase_diff) / (Math.floor(this.size * 100))), 0.4));
        ctx.fillStyle = this.color;
        ctx.shadowColor = this.color;
        ctx.shadowBlur = 20 / this.size;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, TwoPI, false);
        ctx.closePath();
        ctx.fill();
      }
    }

    const max_fireflies = 500;
    const canvas = document.getElementById('can');
    const ctx = canvas.getContext('2d');
    canvas.width = w;
    canvas.height = h;

    let fireflies = [];
    let last = Date.now();
    let dt = 0, now = 0;
    let alive_fireflies = 0;
    let last_emit = 0;

    // Render Function
    function render() {
      const audio = document.getElementById("hbd");
      if (audio.paused) {
        audio.play().catch((error) => {
          console.log("Audio autoplay was prevented:", error);
        });
      }

      now = Date.now();
      dt = (now - last) / 1000; 
      last = now;
      ctx.clearRect(0, 0, w, h);

      fireflies.forEach(firefly => {
        firefly.move(dt);
        firefly.render(ctx, now);
      });

      // Remove fireflies that are too small
      fireflies = fireflies.filter(firefly => firefly.size > 1);
      alive_fireflies = fireflies.length;

      // Emit new fireflies
      if (alive_fireflies < max_fireflies && (now - last_emit) > 100) {
        fireflies.push(new Firefly());
        last_emit = now;
      }

      requestAnimationFrame(render);
    }

    // Start Rendering
    render();

    // Handle Window Resize
    window.addEventListener('resize', () => {
      w = window.innerWidth;
      h = window.innerHeight;
      center_x = w / 2;
      center_y = h / 2;
      canvas.width = w;
      canvas.height = h;
    });
  </script>
</body>
</html>
